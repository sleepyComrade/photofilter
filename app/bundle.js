(()=>{"use strict";var t,e=function(){function t(t,e){this.el=document.createElement("div"),this.el.className=e,t.append(this.el)}return t.prototype.remove=function(){this.el.remove()},t}(),n=function(){function t(t){this.el=document.createElement("div"),this.el.className="image",t.append(this.el),this.resetFilter()}return t.prototype.resetFilter=function(){this.blurValue="blur(0px)",this.hueValue="hue-rotate(0deg)",this.contrastValue="contrast(100%)",this.grayscaleValue="grayscale(0%)",this.invertValue="invert(0%)",this.brightnessValue="brightness(100%)",this.saturateValue="saturate(100%)"},t.prototype.setImage=function(t){this.el.style.backgroundImage="url(".concat(t,")"),this.el.style.width="90%"},t.prototype.setFilter=function(){return this.el.style.filter="".concat(this.blurValue," ").concat(this.hueValue," ").concat(this.contrastValue," ").concat(this.grayscaleValue," ").concat(this.invertValue," ").concat(this.brightnessValue," ").concat(this.saturateValue),this.el.style.filter},t.prototype.setContrast=function(t){this.contrastValue="contrast(".concat(t,"%)")},t.prototype.setHue=function(t){this.hueValue="hue-rotate(".concat(t,"deg)")},t.prototype.setBlur=function(t){this.blurValue="blur(".concat(t/10,"px)")},t.prototype.setGrayscale=function(t){this.grayscaleValue="grayscale(".concat(t,"%)")},t.prototype.setInvert=function(t){this.invertValue="invert(".concat(t,"%)")},t.prototype.setBrightness=function(t){this.brightnessValue="brightness(".concat(t,"%)")},t.prototype.setSaturate=function(t){this.saturateValue="saturate(".concat(t,"%)")},t}(),r=function(t,e){this.el=document.createElement("button"),this.el.className="button",this.el.textContent=e,t.append(this.el)},i=(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),s=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.el.onclick=function(){r.resetFilter()},r}return i(e,t),e.prototype.getClick=function(){this.el.click()},e}(r),o=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.el.onclick=function(){r.transmitClick()},r}return o(e,t),e}(r),l=function(){function t(t){var e=this;this.el=document.createElement("input"),this.el.className="upload-btn",this.el.setAttribute("type","file"),this.el.setAttribute("accept","image/png, image/jpg, image/jpeg"),t.append(this.el),this.el.onchange=function(){e._loadImage()}}return t.prototype._loadImage=function(){var t=this,e=new FileReader;e.onload=function(){var n=e.result;t.onChange(n)},this.el.files[0]&&this.el.files[0].type.match("image.*")&&e.readAsDataURL(this.el.files[0])},t.prototype.getClick=function(){this.el.click()},t}(),c=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.el.classList.add("disabled-button"),r.el.onclick=function(){r.downloadImg()},r}return c(e,t),e}(r),h=function(){function t(t){var e=this;this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),t.onload=function(){e.canvas.width=t.naturalWidth,e.canvas.height=t.naturalHeight}}return t.prototype.remove=function(){this.canvas.remove()},t}(),p=function(){function t(t,e,n,r){var i=this;this.el=document.createElement("div"),this.el.className="slider-wrap",t.append(this.el),this.name=document.createElement("p"),this.name.className="slider-name",this.name.textContent=e,this.el.append(this.name),this.slider=document.createElement("input"),this.slider.className="slider",this.defaultValue=n,this.slider.setAttribute("type","range"),this.slider.setAttribute("min","0"),this.slider.setAttribute("max",r),this.slider.setAttribute("value",this.defaultValue),this.el.append(this.slider),this.slider.oninput=function(){var t=+i.slider.value;i.onInput(t)}}return t.prototype.resetValue=function(){this.slider.value=this.defaultValue},t}(),f=function(){function t(t){this.el=document.createElement("div"),this.el.className="sliders-wrap",t.append(this.el),this.blurSlider=new p(this.el,"Blur","0","100"),this.hueSlider=new p(this.el,"Hue","0","360"),this.contrastSlider=new p(this.el,"Contrast","100","200"),this.grayscaleSlider=new p(this.el,"Grayscale","0","100"),this.invertSlider=new p(this.el,"Invert","0","100"),this.brightnessSlider=new p(this.el,"Brightness","100","200"),this.saturateSlider=new p(this.el,"Saturate","100","200")}return t.prototype.resetValues=function(){this.blurSlider.resetValue(),this.hueSlider.resetValue(),this.contrastSlider.resetValue(),this.grayscaleSlider.resetValue(),this.invertSlider.resetValue(),this.brightnessSlider.resetValue(),this.saturateSlider.resetValue()},t}(),d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();new(function(t){function r(r,i){var o=t.call(this,r,i)||this,c=new e(o.el,"setting-wrap"),p=new e(c.el,"setting-disabled"),d=new f(c.el),y=new s(c.el,"Reset to default"),m=new e(o.el,"image-area-wrap"),g=new e(m.el,"buttons-wrap"),v=new l(g.el),w=new a(g.el,"Upload image"),b=new u(g.el,"Download image"),V=new n(m.el);return y.resetFilter=function(){d.resetValues(),V.resetFilter(),V.setFilter()},d.blurSlider.onInput=function(t){V.setBlur(t),V.setFilter()},d.hueSlider.onInput=function(t){V.setHue(t),V.setFilter()},d.contrastSlider.onInput=function(t){V.setContrast(t),V.setFilter()},d.grayscaleSlider.onInput=function(t){V.setGrayscale(t),V.setFilter()},d.invertSlider.onInput=function(t){V.setInvert(t),V.setFilter()},d.brightnessSlider.onInput=function(t){V.setBrightness(t),V.setFilter()},d.saturateSlider.onInput=function(t){V.setSaturate(t),V.setFilter()},w.transmitClick=function(){v.getClick()},v.onChange=function(t){V.setImage(t);var e=new Image;"string"==typeof t&&(e.src=t);var n=new h(e);b.downloadImg=function(){n.context.filter=V.setFilter(),n.context.drawImage(e,0,0,n.canvas.width,n.canvas.height);var t=document.createElement("a");t.download=v.el.files[0].name,t.href=n.canvas.toDataURL(),t.click(),n.remove()},p.remove(),b.el.classList.remove("disabled-button"),y.getClick()},o}return d(r,t),r}(e))(document.body,"main-wrap")})();
//# sourceMappingURL=bundle.js.map