(()=>{"use strict";var t,e=function(){function t(t,e){this.el=document.createElement("div"),this.el.className=e,t.append(this.el)}return t.prototype.remove=function(){this.el.remove()},t}(),n=function(){function t(t){this.el=document.createElement("div"),this.el.className="image",t.append(this.el)}return t.prototype.setImage=function(t){this.el.style.backgroundImage="url(".concat(t,")"),this.el.style.width="90%"},t.prototype.setFilter=function(t){var e="blur(".concat(t.blurValue/10,"px)"),n="hue-rotate(".concat(t.hueValue,"deg)"),i="contrast(".concat(t.contrastValue,"%)"),r="grayscale(".concat(t.grayscaleValue,"%)"),a="invert(".concat(t.invertValue,"%)"),o="brightness(".concat(t.brightnessValue,"%)"),s="saturate(".concat(t.saturateValue,"%)");return this.el.style.filter="".concat(e," ").concat(n," ").concat(i," ").concat(r," ").concat(a," ").concat(o," ").concat(s),this.el.style.filter},t}(),i=function(t,e){this.el=document.createElement("button"),this.el.className="button",this.el.textContent=e,t.append(this.el)},r=(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}),a=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.el.onclick=function(){i.resetFilter()},i}return r(e,t),e.prototype.getClick=function(){this.el.click()},e}(i),o=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.el.onclick=function(){i.transmitClick()},i}return o(e,t),e}(i),l=function(){function t(t){var e=this;this.el=document.createElement("input"),this.el.className="upload-btn",this.el.setAttribute("type","file"),this.el.setAttribute("accept","image/png, image/jpg, image/jpeg"),t.append(this.el),this.el.onchange=function(){e._loadImage()}}return t.prototype._loadImage=function(){var t=this,e=new FileReader;e.onload=function(){var n=e.result;t.onChange(n)},this.el.files[0]&&this.el.files[0].type.match("image.*")&&e.readAsDataURL(this.el.files[0])},t.prototype.getClick=function(){this.el.click()},t}(),u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),c=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.el.classList.add("disabled-button"),i.el.onclick=function(){i.downloadImg()},i}return u(e,t),e}(i),h=function(){function t(t){var e=this;this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),t.onload=function(){e.canvas.width=t.naturalWidth,e.canvas.height=t.naturalHeight}}return t.prototype.remove=function(){this.canvas.remove()},t}(),p=function(){function t(t,e,n,i){var r=this;this.el=document.createElement("div"),this.el.className="slider-wrap",t.append(this.el),this.name=document.createElement("p"),this.name.className="slider-name",this.name.textContent=e,this.el.append(this.name),this.slider=document.createElement("input"),this.slider.className="slider",this.defaultValue=n,this.slider.setAttribute("type","range"),this.slider.setAttribute("min","0"),this.slider.setAttribute("max",i),this.slider.setAttribute("value",this.defaultValue),this.el.append(this.slider),this.slider.oninput=function(){var t=+r.slider.value;r.onInput(t)}}return t.prototype.resetValue=function(){this.slider.value=this.defaultValue},t}(),d=function(){function t(t,e){var n=this;this.el=document.createElement("div"),this.el.className="sliders-wrap",t.append(this.el),this.initial=e,this.data=JSON.parse(JSON.stringify(this.initial)),this.blurSlider=new p(this.el,"Blur",e.blurValue+"","100"),this.hueSlider=new p(this.el,"Hue",e.hueValue+"","360"),this.contrastSlider=new p(this.el,"Contrast",e.contrastValue+"","200"),this.grayscaleSlider=new p(this.el,"Grayscale",e.grayscaleValue+"","100"),this.invertSlider=new p(this.el,"Invert",e.invertValue+"","100"),this.brightnessSlider=new p(this.el,"Brightness",e.brightnessValue+"","200"),this.saturateSlider=new p(this.el,"Saturate",e.saturateValue+"","200"),this.blurSlider.onInput=function(t){n.data.blurValue=t,n.onInputs(n.data)},this.hueSlider.onInput=function(t){n.data.hueValue=t,n.onInputs(n.data)},this.contrastSlider.onInput=function(t){n.data.contrastValue=t,n.onInputs(n.data)},this.grayscaleSlider.onInput=function(t){n.data.grayscaleValue=t,n.onInputs(n.data)},this.invertSlider.onInput=function(t){n.data.invertValue=t,n.onInputs(n.data)},this.brightnessSlider.onInput=function(t){n.data.brightnessValue=t,n.onInputs(n.data)},this.saturateSlider.onInput=function(t){n.data.saturateValue=t,n.onInputs(n.data)}}return t.prototype.resetValues=function(){this.blurSlider.resetValue(),this.hueSlider.resetValue(),this.contrastSlider.resetValue(),this.grayscaleSlider.resetValue(),this.invertSlider.resetValue(),this.brightnessSlider.resetValue(),this.saturateSlider.resetValue(),this.data=JSON.parse(JSON.stringify(this.initial))},t}(),f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),m={blurValue:0,hueValue:0,contrastValue:100,grayscaleValue:0,invertValue:0,brightnessValue:100,saturateValue:100};new(function(t){function i(i,r){var o=t.call(this,i,r)||this,u=new e(o.el,"setting-wrap"),p=new e(u.el,"setting-disabled"),f=new d(u.el,m),y=new a(u.el,"Reset to default"),g=new e(o.el,"image-area-wrap"),v=new e(g.el,"buttons-wrap"),w=new l(v.el),b=new s(v.el,"Upload image"),V=new c(v.el,"Download image"),_=new n(g.el);return y.resetFilter=function(){_.setFilter(m),f.resetValues()},f.onInputs=function(t){_.setFilter(t)},b.transmitClick=function(){w.getClick()},w.onChange=function(t){_.setImage(t);var e=new Image;"string"==typeof t&&(e.src=t);var n=new h(e);V.downloadImg=function(){n.context.filter=_.setFilter(f.data),n.context.drawImage(e,0,0,n.canvas.width,n.canvas.height);var t=document.createElement("a");t.download=w.el.files[0].name,t.href=n.canvas.toDataURL(),t.click(),n.remove()},p.remove(),V.el.classList.remove("disabled-button"),y.getClick()},o}return f(i,t),i}(e))(document.body,"main-wrap")})();
//# sourceMappingURL=bundle.js.map