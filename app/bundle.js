(()=>{"use strict";var t,e=function(){function t(t,e){this.el=document.createElement("div"),this.el.className=e,t.append(this.el)}return t.prototype.remove=function(){this.el.remove()},t}(),n=function(){function t(t){this.el=document.createElement("div"),this.el.className="image",t.append(this.el),this.resetFilter()}return t.prototype.resetFilter=function(){this.blurValue="blur(0px)",this.hueValue="hue-rotate(0deg)",this.contrastValue="contrast(100%)",this.grayscaleValue="grayscale(0%)",this.invertValue="invert(0%)",this.brightnessValue="brightness(100%)",this.saturateValue="saturate(100%)"},t.prototype.setImage=function(t){this.el.style.backgroundImage="url(".concat(t,")"),this.el.style.width="90%"},t.prototype.setFilter=function(){return this.el.style.filter="".concat(this.blurValue," ").concat(this.hueValue," ").concat(this.contrastValue," ").concat(this.grayscaleValue," ").concat(this.invertValue," ").concat(this.brightnessValue," ").concat(this.saturateValue),this.el.style.filter},t.prototype.setContrast=function(t){this.contrastValue="contrast(".concat(t,"%)")},t.prototype.setHue=function(t){this.hueValue="hue-rotate(".concat(t,"deg)")},t.prototype.setBlur=function(t){this.blurValue="blur(".concat(t/10,"px)")},t.prototype.setGrayscale=function(t){this.grayscaleValue="grayscale(".concat(t,"%)")},t.prototype.setInvert=function(t){this.invertValue="invert(".concat(t,"%)")},t.prototype.setBrightness=function(t){this.brightnessValue="brightness(".concat(t,"%)")},t.prototype.setSaturate=function(t){this.saturateValue="saturate(".concat(t,"%)")},t}(),o=function(t){this.el=document.createElement("div"),this.el.className="slider-wrap",t.append(this.el)},r=function(t,e){this.el=document.createElement("p"),this.el.className="slider-name",this.el.textContent=e,t.append(this.el)},i=function(){function t(t,e,n){var o=this;this.el=document.createElement("input"),this.el.className="slider",this.defaultValue=e,this.el.setAttribute("type","range"),this.el.setAttribute("min","0"),this.el.setAttribute("max",n),this.el.setAttribute("value",this.defaultValue),t.append(this.el),this.el.oninput=function(){var t=+o.el.value;o.onInput(t)}}return t.prototype.resetValue=function(){this.el.value=this.defaultValue},t}(),a=function(t,e){this.el=document.createElement("button"),this.el.className="button",this.el.textContent=e,t.append(this.el)},l=(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),s=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.el.onclick=function(){o.resetFilter()},o}return l(e,t),e.prototype.getClick=function(){this.el.click()},e}(a),c=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),u=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.el.onclick=function(){o.transmitClick()},o}return c(e,t),e}(a),p=function(){function t(t){var e=this;this.el=document.createElement("input"),this.el.className="upload-btn",this.el.setAttribute("type","file"),this.el.setAttribute("accept","image/png, image/jpg, image/jpeg"),t.append(this.el),this.el.onchange=function(){e._loadImage()}}return t.prototype._loadImage=function(){var t=this,e=new FileReader;e.onload=function(){var n=e.result;t.onChange(n)},this.el.files[0]&&this.el.files[0].type.match("image.*")&&e.readAsDataURL(this.el.files[0])},t.prototype.getClick=function(){this.el.click()},t}(),h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),f=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.el.classList.add("disabled-button"),o.el.onclick=function(){o.downloadImg()},o}return h(e,t),e}(a),y=function(){function t(t){var e=this;this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),t.onload=function(){e.canvas.width=t.naturalWidth,e.canvas.height=t.naturalHeight}}return t.prototype.remove=function(){this.canvas.remove()},t}(),d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();new(function(t){function a(a,l){var c=t.call(this,a,l)||this,h=new e(c.el,"setting-wrap"),d=new e(h.el,"setting-disabled"),w=new o(h.el),m=(new r(w.el,"Blur"),new i(w.el,"0","100")),g=new o(h.el),v=(new r(g.el,"Hue"),new i(g.el,"0","360")),b=new o(h.el),_=(new r(b.el,"Contrast"),new i(b.el,"100","200")),V=new o(h.el),I=(new r(V.el,"Grayscale"),new i(V.el,"0","100")),O=new o(h.el),C=(new r(O.el,"Invert"),new i(O.el,"0","100")),F=new o(h.el),j=(new r(F.el,"Brightness"),new i(F.el,"100","200")),k=new o(h.el),x=(new r(k.el,"Saturate"),new i(k.el,"100","200")),E=new s(h.el,"Reset to default"),A=new e(c.el,"image-area-wrap"),P=new e(A.el,"buttons-wrap"),N=new p(P.el),S=new u(P.el,"Upload image"),B=new f(P.el,"Download image"),H=new n(A.el);return E.resetFilter=function(){m.resetValue(),v.resetValue(),_.resetValue(),I.resetValue(),C.resetValue(),j.resetValue(),x.resetValue(),H.resetFilter(),H.setFilter()},m.onInput=function(t){H.setBlur(t),H.setFilter()},v.onInput=function(t){H.setHue(t),H.setFilter()},_.onInput=function(t){H.setContrast(t),H.setFilter()},I.onInput=function(t){H.setGrayscale(t),H.setFilter()},C.onInput=function(t){H.setInvert(t),H.setFilter()},j.onInput=function(t){H.setBrightness(t),H.setFilter()},x.onInput=function(t){H.setSaturate(t),H.setFilter()},S.transmitClick=function(){N.getClick()},N.onChange=function(t){H.setImage(t);var e=new Image;"string"==typeof t&&(e.src=t);var n=new y(e);B.downloadImg=function(){n.context.filter=H.setFilter(),n.context.drawImage(e,0,0,n.canvas.width,n.canvas.height);var t=document.createElement("a");t.download=N.el.files[0].name,t.href=n.canvas.toDataURL(),t.click(),n.remove()},d.remove(),B.el.classList.remove("disabled-button"),E.getClick()},c}return d(a,t),a}(e))(document.body,"main-wrap")})();
//# sourceMappingURL=bundle.js.map